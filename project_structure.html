
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Structuring your project &#8212; Quality Assurance of Code for Analysis and Research</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/logo.css" />
    <link rel="stylesheet" type="text/css" href="_static/admonitions.css" />
    <link rel="stylesheet" type="text/css" href="_static/markdown_within_tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/accessibility.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Code documentation" href="code_documentation.html" />
    <link rel="prev" title="Readable code" href="readable_code.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/duck_book_logo.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Quality Assurance of Code for Analysis and Research</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Overview
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="glossary.html">
   Glossary of terms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="managers_guide.html">
   Managing analytical code development
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="checklists.html">
   Code quality assurance checklists
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="checklist_lower.html">
     Lower quality assurance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="checklist_moderate.html">
     Moderate quality assurance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="checklist_higher.html">
     Higher quality assurance
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Guidance
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="principles.html">
   Principles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="modular_code.html">
   Modular code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="readable_code.html">
   Readable code
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Structuring your project
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="code_documentation.html">
   Code documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="project_documentation.html">
   Project documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="version_control.html">
   Version control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="configuration.html">
   Configuration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data.html">
   Data Management
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="peer_review.html">
   Peer review
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="testing_code.html">
   Testing code
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="learning.html">
   Learning resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tools.html">
   Tools
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            <p>Book version 2022.4</p><a href='https://www.gov.uk/government/organisations/government-analysis-function' target='_blank'><img src='./_static/af_logo.png' alt='The Government Analysis Function logo' style='width:50%;'></a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/best-practice-and-impact/qa-of-code-guidance"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/best-practice-and-impact/qa-of-code-guidance/issues/new?title=Issue%20on%20page%20%2Fproject_structure.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/best-practice-and-impact/qa-of-code-guidance/edit/master/book/project_structure.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/project_structure.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts">
   Scripts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#clean-directories">
   Clean directories
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filenames">
     Filenames
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis-is-a-dag">
     Analysis is a DAG
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#raw-data-should-be-preserved">
     Raw data should be preserved
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outputs-should-be-disposable">
     Outputs should be disposable
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modules-and-packages">
   Modules and packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-templates">
   Project templates
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#repositories">
   Repositories
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Structuring your project</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts">
   Scripts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#clean-directories">
   Clean directories
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#filenames">
     Filenames
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis-is-a-dag">
     Analysis is a DAG
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#raw-data-should-be-preserved">
     Raw data should be preserved
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outputs-should-be-disposable">
     Outputs should be disposable
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modules-and-packages">
   Modules and packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-templates">
   Project templates
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#repositories">
   Repositories
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="structuring-your-project">
<h1>Structuring your project<a class="headerlink" href="#structuring-your-project" title="Permalink to this headline">#</a></h1>
<p>When you’re designing your analysis it can be difficult to keep your thoughts tidy.
Analysis is often exploratory and subject to change.
This nature means that scripts and programs can become messy.
The messier the programs, the harder they are to maintain and change in future.</p>
<p>Good directory structure and file hygiene can go a long way to mitigate this.
It will help others to read your code more easily, and you will write better code into the bargain.
Some structures have been found to be generally quite effective through trial and error.
Others are more specific, and - as with all guidelines - should not be taken as mandatory.</p>
<section id="scripts">
<h2>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">#</a></h2>
<p>As you begin developing your project it’s a good idea to save your working code in a script file.
In R these are saved as <code class="docutils literal notranslate"><span class="pre">.R</span></code> files, and in Python as <code class="docutils literal notranslate"><span class="pre">.py</span></code>.
Scripts can be used within an Integrated Development Environment (IDE) like <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a>, <a class="reference external" href="https://rstudio.com/">RStudio</a>, or <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>.
Inside an IDE you can usually run through your script line-by-line, or run the whole file at once.
This can be an easier workflow than running code in the Python or the R console and then rewriting the same code in a script later.</p>
<p>Scripts serve as the basic units of saved code.
Often, we like to define functions or reusable bits of code in one file and then use these in another file.
For example we may write a few functions that help us to calculate <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">mode</span></code>, and <code class="docutils literal notranslate"><span class="pre">median</span></code> of our dataset in the <code class="docutils literal notranslate"><span class="pre">functions.R</span></code> file.
Then we can use those functions in our main script, saved in <code class="docutils literal notranslate"><span class="pre">main.R</span></code>.</p>
<p>Outside of an IDE you can also run your scripts using the Python or R interpreters from the command line.
This allows other programs to use your scripts.
For example you can use the <code class="docutils literal notranslate"><span class="pre">Rcmd</span> <span class="pre">&lt;script-path&gt;</span></code> command to run your R scripts or the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">&lt;script-path&gt;</span></code> command to run your Python scripts.</p>
<p>Running your analysis files from end to end ensures that your code is executed in the same order each time.
It also runs the code with a clean environment, not containing variables or other objects from previous runs that can be a common source of errors.</p>
</section>
<section id="clean-directories">
<h2>Clean directories<a class="headerlink" href="#clean-directories" title="Permalink to this headline">#</a></h2>
<p>As your analysis project grows it becomes more important to keep your project structure clean.
Every project is different and the right way to organise your project might differ from another project.
However, there are some principles that are useful to consider.</p>
<section id="filenames">
<h3>Filenames<a class="headerlink" href="#filenames" title="Permalink to this headline">#</a></h3>
<p>Much like names of elements in your code, good filenames inform you of the purpose of a file.
Within a project, you should follow a standard file naming convention.
Good naming practices improve your ability to locate and identify the contents of files.</p>
<p>Good naming conventions include:</p>
<ul class="simple">
<li><p>Consistency, above all else</p></li>
<li><p>Short but descriptive and human readable names</p></li>
<li><p>No spaces, for machine readability - underscores (<code class="docutils literal notranslate"><span class="pre">_</span></code>) or dashes (<code class="docutils literal notranslate"><span class="pre">-</span></code>) are preferred</p></li>
<li><p>Use of consistent date formatting (e.g. <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">YYYY-MM-DD</a>)</p></li>
<li><p>Padding the left side of numbers with zeros to maintain order -  e.g. <code class="docutils literal notranslate"><span class="pre">001</span></code> instead of <code class="docutils literal notranslate"><span class="pre">1</span></code>. The number of zeros should reflect the expected number of files.</p></li>
</ul>
<p>When using dates or times to name files, start with the largest unit of time and work towards the smallest.  So we would use <code class="docutils literal notranslate"><span class="pre">2020-10-15_data_input</span></code>, and not <code class="docutils literal notranslate"><span class="pre">15-10-2020_data_input</span></code>.
This will ensure that the default ordering of these files is in chronological order.
This makes it much easier to find the earliest or latest files.</p>
<p>You should start filenames with numbers to order files, if ordering is logical and informative.
For example, where the <code class="docutils literal notranslate"><span class="pre">001_introduction</span></code> should come before <code class="docutils literal notranslate"><span class="pre">002_methodology</span></code> and <code class="docutils literal notranslate"><span class="pre">003_results</span></code>.</p>
</section>
<section id="analysis-is-a-dag">
<h3>Analysis is a DAG<a class="headerlink" href="#analysis-is-a-dag" title="Permalink to this headline">#</a></h3>
<p>Analysis can best be thought of as a Directed Acyclic Graph (DAG).
Don’t let the name scare you off!
All we mean by this is that you start off with the input data, you finish with the output(s), and in between there are no lines that link backwards.</p>
<figure class="align-default" id="dag">
<a class="reference internal image-reference" href="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Tred-G.svg/800px-Tred-G.svg.png"><img alt="Analysis is a directed, acyclic graph that links the input data through a series of steps to the outputs." src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Tred-G.svg/800px-Tred-G.svg.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Defining analysis as a DAG - linking the input data at (a) to the output at (e).</span><a class="headerlink" href="#dag" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>When thinking about how to structure your project it is useful to think in terms of what your project’s DAG looks like.
Each project should be kept in its own folder, with a descriptive name.
Most analysis will have an ingest or input stage, a processing stage, and a reporting stage.
You should use folders within each project to separate raw data, documentation, source code (or <code class="docutils literal notranslate"><span class="pre">src</span></code>) and results.</p>
<p>A typical analytical project folder might look like:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">R</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><p>|– <a class="reference external" href="http://README.md">README.md</a>
|– requirements.txt
|– data/
|   – incident_counts.csv
|– docs/
|   – <a class="reference external" href="http://notebook.md">notebook.md</a>
|   – <a class="reference external" href="http://manuscript.md">manuscript.md</a>
|   – <a class="reference external" href="http://changelog.md">changelog.md</a>
|– results/
|   – incident_counts_by_age.csv
|   – incidents_over_time.svg
|– src/
|   – data_cleaning.py
|   – main_analysis.py
|   – generate_plots.py</p>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><p>|– <a class="reference external" href="http://README.md">README.md</a>
|– project.Rproj
|– data/
|   – incident_counts.csv
|– docs/
|   – <a class="reference external" href="http://notebook.md">notebook.md</a>
|   – <a class="reference external" href="http://manuscript.md">manuscript.md</a>
|   – <a class="reference external" href="http://changelog.md">changelog.md</a>
|– results/
|   – incident_counts_by_age.csv
|   – incidents_over_time.svg
|– R/
|   – data_cleaning.R
|   – main_analysis.R
|   – generate_plots.R</p>
</div></div>
<p>Where you have written code that is used by multiple projects, this code should reside in its own separate folder.
This will allow you to record changes to your code independent of other dependencies of each project.</p>
</section>
<section id="raw-data-should-be-preserved">
<h3>Raw data should be preserved<a class="headerlink" href="#raw-data-should-be-preserved" title="Permalink to this headline">#</a></h3>
<p>You should not alter raw data - treat it as read-only.
Even data cleaning should take place on a copy of the raw data, so that you can document which cleaning decisions have been made.</p>
<p>There must be an immutable store for raw data in your project structure.</p>
</section>
<section id="outputs-should-be-disposable">
<h3>Outputs should be disposable<a class="headerlink" href="#outputs-should-be-disposable" title="Permalink to this headline">#</a></h3>
<p>You should be able to dispose of your outputs, deleting them, without worrying.
If you are worried about deleting your outputs (i.e. results) then it is unlikely you have confidence in being able to reproduce your results.</p>
<p>It is good practice to delete and regenerate your outputs frequently when developing analysis.</p>
</section>
</section>
<section id="modules-and-packages">
<h2>Modules and packages<a class="headerlink" href="#modules-and-packages" title="Permalink to this headline">#</a></h2>
<p>Code that is more complex, high risk or reusable between projects can benefit from being structured into a package.
Modules are single files that contain one or more reusable units of code.
Multiple related modules are typically collected together within a package.</p>
<p>It’s likely that you’ve already used a package written by somebody else as part of your analysis.
For example, installing additional functionality for Python using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&lt;package&gt;</span></code> on the command line or running <code class="docutils literal notranslate"><span class="pre">install.packages(&quot;&lt;package&gt;&quot;)</span></code> in an R interpreter.</p>
<div class="admonition-learning admonition">
<p class="admonition-title">Key Learning</p>
<p><a class="reference external" href="https://python-packaging-user-guide.readthedocs.io/">The Python Packaging User Guide</a> describes good packaging practices using the most up-to-date Python tools. While <a class="reference external" href="https://r-pkgs.org/">the R Packages book</a> provides a comprehensive summary of packaging in R. <a class="reference external" href="https://devguide.ropensci.org/building.html">The rOpenSci packaging guide</a> also contains useful tips for packaging in R.</p>
</div>
<p>See <a class="reference internal" href="project_documentation.html"><span class="doc std std-doc">Project documentation</span></a> for a summary of common package and project documentation types.</p>
</section>
<section id="project-templates">
<h2>Project templates<a class="headerlink" href="#project-templates" title="Permalink to this headline">#</a></h2>
<p>Although project structure is flexible, you might recognise that many analysts choose to use similar structures for multiple projects.
Consistency in structure makes it easier to navigate unfamiliar projects.
It means that members of the team can quickly orient themselves when joining an existing project or starting a new one.</p>
<p><a class="reference external" href="https://github.com/cookiecutter/cookiecutter">Cookiecutter</a> is a command-line tool that creates projects from templates (cookiecutters).
Using an existing cookiecutter, or creating one to meet your needs, can be a useful way to increase consistency in structure between your projects.
It can save time by creating common folder structures, laying out essential documentation or even starting off your code with a basic boilerplate.
Laying out a structure to include documentation and code testing encourages these good practices.</p>
<p>Useful cookiecutters include:</p>
<ul class="simple">
<li><p>The government data science <a class="reference external" href="https://github.com/ukgovdatascience/govcookiecutter">govcookiecutter</a>, including data security features.</p></li>
<li><p>The comprehensive Python data science project template <a class="reference external" href="http://drivendata.github.io/cookiecutter-data-science/">cookiecutter-data-science</a>.</p></li>
<li><p>The Python package template <a class="reference external" href="https://cookiecutter-pypackage.readthedocs.io/en/latest/">cookiecutter-pypackage</a>.</p></li>
</ul>
<p>Rstudio provides a standard template for R packages via <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">New</span> <span class="pre">Project...</span> <span class="pre">&gt;</span> <span class="pre">New</span> <span class="pre">Directory</span> <span class="pre">&gt;</span> <span class="pre">R</span> <span class="pre">Package</span></code>.  We have created some basic templates for an <a class="reference external" href="https://github.com/best-practice-and-impact/example-package-r">R package</a> and a <a class="reference external" href="https://github.com/best-practice-and-impact/example-package-python">Python package</a> that may be helpful.
R project structures can also be set up or extended, one component at a time, using the <a class="reference external" href="https://usethis.r-lib.org/"><code class="docutils literal notranslate"><span class="pre">usethis</span></code> workflow package</a>.
For example, <code class="docutils literal notranslate"><span class="pre">use_test()</span></code> will add the directories necessary for testing using <code class="docutils literal notranslate"><span class="pre">testthat</span></code> and generate basic test file templates for a given function name.</p>
</section>
<section id="repositories">
<h2>Repositories<a class="headerlink" href="#repositories" title="Permalink to this headline">#</a></h2>
<p>Repositories or ‘repos’ are typically project folders that are version controlled using Git or a similar version control system.
One repository usually contains a single project.
Developing your project using a version controlled repository has significant benefits for reproducibility.</p>
<p>See <a class="reference internal" href="version_control.html"><span class="doc std std-doc">Version control</span></a> for more information.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="readable_code.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Readable code</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="code_documentation.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Code documentation</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    <div class="extra_footer">
      <p>Analysis Function reproducible analytical pipelines (RAP) support</p><p>This is a living document, please help use to make it grow by providing any feedback <a href='mailto:Analysis.Function@ons.gov.uk'>by email</a> or via the <a href='https://github.com/best-practice-and-impact/qa-of-code-guidance'>GitHub repository</a>.
    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>